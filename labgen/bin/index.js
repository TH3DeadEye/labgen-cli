#!/usr/bin/env node
const fs = require('fs');
const args = process.argv.slice(2);

const baseName = args[0];
const fileTypes = args.slice(1);

// console.log(baseName, fileTypes);
// console.log(process.argv)


const HtmlTemplate = () =>  {
    const template = `<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>${baseName}</title>
            <script src="./${baseName}.js"></script>
        </head>
        <body>
            
        </body>
        </html>
    `
    return template
}
const createFiles = () => {
    fileTypes.forEach(type => {
        const filename = `${baseName}.${type}`;
        if (fs.existsSync(filename)) {
            console.log(`${filename} already exists! Skipping.`);
        } else {
            let content = '';
            if (type === 'html') {
                content = HtmlTemplate();
            } else if (type === 'js') {
                content = `// ${filename} generated by CLI tool\n`;
            }
            fs.writeFileSync(filename, content);
        }
    });
}

createFiles()

